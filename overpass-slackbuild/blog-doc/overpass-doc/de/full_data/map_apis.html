<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
pre { background-color:#ccffff; padding: 0.5em; counter-reset: line; }
div[type=sibling] { text-indent:1em; }
codeline::before { counter-increment: line; content: counter(line)" "; color: #99cccc; }
</style>
  <title>Weitere Map-APIs</title>
</head>
<body style="font-family:sans-serif; max-width:32em">

<p><a href="../index.html">Handbuch zur Overpass API</a>  </p>

<nav>
<div type="parent"><a href="../preface/index.html">Einführung</a></div>
<div type="parent"><a href="../targets/index.html">Verwendung</a></div>
<div type="parent"><strong><a href="index.html">Räumliche Datenauswahl</a></strong></div>

<div type="sibling"><a href="bbox.html">Bounding-Boxen</a></div>
<div type="sibling"><a href="osm_types.html">Geometrien</a></div>
<div type="sibling"><strong> Weitere Map-APIs</strong></div>
<div type="sibling"><a href="polygon.html">Polygon und Around</a></div>
<div type="sibling"><a href="area.html">Suche per Area</a></div>
<div type="sibling"><a href="other_sources.html">Alternativen</a></div>

</nav>
<div type="parent"><a href="../criteria/index.html">Objekte Finden</a></div>
<div type="parent"><a href="../counting/index.html">Objekte Zählen</a></div>
<div type="parent"><a href="../analysis/index.html">Daten Analysieren</a></div>
<div type="parent"><a href="../more_info/index.html">Anhang</a></div>

<hr />

<h1>Weitere Map-APIs</h1>

<p>Es gibt neben Abfragen in Overpass QL auch einige fixe API-Aufrufe.
Die meisten von diesen erfüllen jediglich Zwecke der Rückwärtskompatibilität,
und alle werden emuliert, indem die semantisch äquivalenten Overpass-QL-Abfragen ausgeführt werden.
Diese API-Aufrufe brauchen daher nur Koordinaten.</p>

<nav>
<h3>Inhalt</h3>

<div type="subsection"><a href="map_apis.html#map">Der Export der Main Site</a></div>
<div type="subsection"><a href="map_apis.html#xapi">Xapi</a></div>

</nav>

<p><a name="map"/></p>

<h2>Der Export der Main Site</h2>

<p>Im <a target="_blank" rel="noopener" href="https://openstreetmap.org/export">Export-Tab</a> der <a target="_blank" rel="noopener" href="https://openstreetmap.org">OSM Main Site</a> gibt es eine Funktionalität,
um alle Daten mittels Overpass API zu exportieren.
Diese bildet das Verhalten des Exports direkt von der Originaldatenbank nach,
kann aber quantitativ deutlich mehr Elemente exportieren.
Dahinter steckt eine einfache URL:</p>

<p><a target="_blank" rel="noopener" href="https://overpass-api.de/api/map?bbox=-0.001,51.477,0.001,51.478">/api/map?bbox=-0.001,51.477,0.001,51.478</a></p>

<p>Die Reihenfolge der Koordinaten orientiert sich hier an älteren Schnittstellen.
Sie weicht daher von der Bounding-Box ab.
Es folgen westlicher Rand, südlicher Rand, östlicher Rand und nördlicher Rand aufeinander.</p>

<p>Als Abfrage wird ausgeführt <a target="_blank" rel="noopener" href="https://overpass-turbo.eu/?lat=51.4775&amp;lon=0.0&amp;zoom=17&amp;Q=%28%20node%2851%2E477%2C%2D0%2E001%2C51%2E478%2C0%2E001%29%3B%0A%20%20way%28bn%29%3B%0A%20%20node%28w%29%3B%0A%29%3B%0A%28%20%2E%5F%3B%0A%20%20%28%20rel%28bn%29%2D%3E%2Ea%3B%0A%20%20%20%20rel%28bw%29%2D%3E%2Ea%3B%0A%20%20%29%3B%0A%20%20rel%28br%29%3B%0A%29%3B%0Aout%20meta%3B">(Link)</a></p>

<pre>
<codeline>( node(51.477,-0.001,51.478,0.001);</codeline>
<codeline>  way(bn);</codeline>
<codeline>  node(w);</codeline>
<codeline>);</codeline>
<codeline>( ._;</codeline>
<codeline>  ( rel(bn)-&gt;.a;</codeline>
<codeline>    rel(bw)-&gt;.a;</codeline>
<codeline>  );</codeline>
<codeline>  rel(br);</codeline>
<codeline>);</codeline>
<codeline>out meta;</codeline>
</pre>

<p>D.h. es sind enthalten:</p>

<ol>
<li>alle Nodes in der gegebenen Bounding-Box</li>
<li>alle Ways, die mindestens eine Node in der Bounding-Box haben</li>
<li>alle von diesen Ways benutzte Nodes</li>
<li>alle Relationen, die eines oder mehrere Elemente unter 1.-3. als Member enthalten</li>
<li>alle Relationen, die eine oder mehrere Relation von 4. als Member enthalten</li>
</ol>

<p>und es wird davon der Detailgrad mit Version und Zeitstempel ausgegeben.</p>

<p>Nicht enthalten sind Ways, die die Bounding-Box nur durchlaufen ohne dort einen Node zu haben.
Wie man dieses Problem behebt,
ist im <a href="osm_types.html#full">vorhergehenden Unterkapitel</a> erläutert, insbesondere im Abschnitt <em>Alles zusammen</em>.</p>

<p><a name="xapi"/></p>

<h2>Xapi</h2>

<p>...</p>
<hr/>
<p>weiter: <a href="polygon.html">Polygon und Around</a></p>

</body>
</html>

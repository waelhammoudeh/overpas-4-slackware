OSM OverPass API software

This is the main "README" file for the overpassAPI SlackBuilds script.
Instructions are provided in other README files as follows:

 *) README.data :
     Has details about data files needed to initial and populate overpass database.

  *) README.web :
      Has details for setting up web server for the web interface to overpass.

Open Street Maps (OSM) overpassAPI is a query language for OSM data.
(Formerly known as OSM Server Side Scripting, or OSM3S before 2011)
It acts as a database over the web: the client sends a query to the
API and gets back the data set that corresponds to the query.

Overpass uses its own database. The source code provide programs to initial,
maintain and query the database, the slackbuild provided here builds this source
code. Initialing the database is done after installing the package and requires
an OpenStreetMaps (OSM) data file; the choice of this data file needs care and
that is what "README.data" file explains. There are two ways to initial the
database; with planet file for the whole world which needs a lot of hard disk
space - might be up to one terabyte. The second way to initial the database is
for limited area or region, this way enables us to control required disk space
and this way is what this guide shows.

Source url: "https://dev.overpass-api.de/releases/osm-3s_v0.7.56.9.tar.gz"
Please note that the source on github.com is old.

Important Notes:
 - This SlackBuild script compiles the overpassAPI software from source,
   package destination {PKGDEST} installation root is set to /usr/local/.
 - This script creates two new directories under /usr/local/ with names
   "cgi-bin" and "templates".
 - Blog directory along with overpass-doc are added to the package in the
   html directory; for educational purposes. Available on the web online too.
 - This script replaces the source "index.html" file in the html directory with
   that used in an earlier version 0.7.55.9.
 - This script does NOT setup any web server, however it makes the process
   much easier.
 - Included is a script to start and stop the dispatcher dameon for overpass;
   dispatcher is started after database setup.
 
Required before building package:
You need to create "overpass" group and user before building overpassAPI, and
set ownership on the database directory. Database directory is where you will
store your database on your system, you should have enough free space to
store your database, it will be the home directory for the overpass user.
This is done with the following commands:

   # groupadd -g 367 overpass
   # useradd -u 367 -g 367 -d /your/database/directory overpass
   # mkdir /your/database/directory
   # chown overpass:overpass /your/database/directory

Replace "/your/database/directory" with your actual database directory; where
you will store your database. You do need to create the directory and set its
ownership.
Thanks to Robby Workman from SlackBuilds.org for issuing and including the
above ids in the "Recommended UID/GIDs" document in their site. This avoids
conflicts with software installed from SlackBuilds.org, so I highly recommend
you use the above group and user ids. Feel free to use different gid/uid above,
look in your /etc/group and /etc/passwd files first!!!

The short story:
The goal is to setup overpassAPI server on a local machine with a limited area
database for a region, compiling  and installing the software is a first step.
After installing the package, we can move to the next step; get the data to
populate the database, initial the database and then setup web server for our
own overpass server.

To accomplish our goal follow these steps:
1) Create user and group as outlined above in "Required before building".
2) Build the package with SlackBuild script and install it on your machine.
3) Download open street maps data for your area and initial the database.
4) Start overpass dispatcher dameon with "rc.dispatcher". You need to set
database directory first, make sure script is executable.

To have dispatcher start and stop on system boot and shutdown add the
following lines to the following files, (after database setup):

 /etc/rc.d/rc.local
 ============================
 # Startup overpass dispatcher
 if [ -x /etc/rc.d/rc.dispatcher ]; then
    /etc/rc.d/rc.dispatcher start
 fi

 /etc/rc.d/rc.local_shutdown
 ============================
 # Stop overpass dispatcher
 if [ -x /etc/rc.d/rc.dispatcher ]; then
    /etc/rc.d/rc.dispatcher stop
 fi

You may need to create the "/etc/rc.d/rc.local_shutdown" if not present in your
system. The rc.dispatcher script has other options; please see the script file.

5) Setup a web server such as "Apache Web Server" for your overpass server.

The long story is broken into two files mentioned on top of this README, so
please see "README.data" and "README.web". Thank you very much.

Enjoy :)
Wael Hammoudeh
